# アダプティブメディア構成リファレンス

アダプティブメディアにアクセスするには、 ［**グローバルメニュー**］ &rarr; ［**コントロールパネル**］ &rarr; ［**アダプティブメディア**］ に移動します。

右上の（![Actions icon](../../../../images/icon-actions.png)）をクリックすると、既存の画像解像度ルールを使って、すべての画像を一度に適用させることができます。

![すべての画像を適用します。](./adaptive-media-configuration-reference/images/02.png)

<a name="managing-image-resolutions" />

## 画像解像度の管理

ホーム画面には、既存のすべての画像解像度設定が表示されます。

| フィールド   | 説明                                |
| ------- | --------------------------------- |
| 名前      | これは画像解像度の名前です。                    |
| ステータス   | ［**ステータス**］ フィールドは、この設定が有効かどうかを示します。 |
| 適用された画像 | このステータスバーは、移行の進行状況を追跡します。         |
| 幅の最大値   | これは、サムネイルの最大幅を指します。               |
| 高さの最大値  | これは、サムネイルの最大高さを指します。              |

（![Actions icon](../../../../images/icon-actions.png)）アイコンをクリックして、ルールを編集または無効にすることができます。

![すべての画像を適用します。](./adaptive-media-configuration-reference/images/03.png)

<a name="creating-a-new-image-resolution" />

## 新しい画像解像度の作成

（![Add icon](../../../../images/icon-add.png)）アイコンをクリックすると、新しい画像解像度が作成されます。

![新しい画像解像度を作成します。](./adaptive-media-configuration-reference/images/01.png)

| フィールド       | 説明                                                                      |
| ----------- | ----------------------------------------------------------------------- |
| Name        | 画像解像度の名前を入力します。                                                         |
| Description | 画像解像度の説明を入力します。                                                         |
| 幅の最大値       | 最大幅の数値をピクセル単位で入力します。                                                    |
| 高さの最大値      | 最大高さの数値をピクセル単位で入力します。                                                   |
| 自動          | 識別子を生成する場合は、これを選択します。                                                   |
| カスタム        | 独自の識別子を生成する場合は、これを選択します。                                                |
| ID          | このフィールドは、 ［**カスタム**］ オプションが選択されている場合にのみ有効になります。ユーザーは、この画像解像度の独自の識別子を入力できます。 |

<a name="advanced-configuration" />

## 詳細設定

アダプティブメディアの詳細設定プションは、［システム設定］で利用できます。

1. ［**グローバルメニュー**］ &rarr; ［**コントロールパネル**］ &rarr; ［**システム設定**］ に移動します。

    ![システム設定にアクセス](./adaptive-media-configuration-reference/images/04.png)

1. ［**アダプティブメディア**］ をクリックします。

    ![システム設定にアクセス](./adaptive-media-configuration-reference/images/05.png)

［**システムスコープ**］ の下に3つの設定があります。

* システム画像解像度
* 画像
* プロセス

### システム画像解像度

通常、アダプティブメディアは、クローゼットの寸法に基づいて最適な画像を選択します。 システム画像解像度の設定は、それ自体のヒューリスティックを上書きし、ここで指定された画像が使用されます。 生成されたIDを入力します（例： **Preview-1000**）。

![システム設定にアクセス](./adaptive-media-configuration-reference/images/09.png)

| フィールド          | 説明                                                              |
| -------------- | --------------------------------------------------------------- |
| プレビュー設定        | 設定IDを入力し、ドキュメントライブラリのプレビューに対するデフォルトのアダプティブメディアの動作を変更します。        |
| サムネイル設定        | 設定IDを入力し、ドキュメントライブラリのサムネイルに対するデフォルトのアダプティブメディアの動作を変更します。        |
| カスタムサムネイル 1 設定 | 設定IDを入力し、ドキュメントライブラリのカスタムサムネイル 1 に対するデフォルトのアダプティブメディアの動作を変更します。 |
| カスタムサムネイル 2 設定 | 設定IDを入力し、ドキュメントライブラリのカスタムサムネイル 2 に対するデフォルトのアダプティブメディアの動作を変更します。 |

### 画像

**画像** 設定には、次のオプションが含まれています。

| フィールド            | 説明                                                                                                                           |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| サポートされている MIME種別 | アダプティブメディアがサポートする画像のMIME 種別の一覧。 画像がアップロードされ、そのMIME 種別がこの一覧にない場合、アダプティブメディアはその画像を無視します。 デフォルトでは、この一覧には多くの一般的なMIME 種別が含まれています。 |

![アダプティブメディアのMIME 種別を設定することもできます。](./adaptive-media-configuration-reference/images/08.png)

| フィールド    | 説明                                                                                                                                                                                                                             |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Gifsicle | アニメーションGIFをスケーリングするために、アダプティブメディアは [Gifsicle](https://www.lcdf.org/gifsicle/) と呼ばれる外部ツールを使用します。 詳細は、 [アニメーションGIFの最適化を有効にする](../../devops/enabling-optimization-of-animated-gifs.md) を参照してください。                   |
| 最大画像サイズ  | アダプティブメディアが適用された画像を生成するために使用できるソース画像の最大サイズ。 アダプティブメディアは、この設定よりも大きいソース画像に適用する画像を生成しません。 デフォルト値は10 MBです。 サイズに関係なくすべてのソース画像に適用した画像を生成するには、`-1`に設定します。 大きなソース画像から適用する画像を生成するには大量のメモリが必要になるため、メモリ不足エラーを回避するために ［**最大画像サイズ**］ を低く指定できます。 |

![アダプティブメディアのGifsicleと最大画像サイズを設定できます。](./adaptive-media-configuration-reference/images/06.png)

### プロセス

**プロセス** 設定は、アダプティブメディアの非同期処理に関連しています。 これらの値を変更して、特定のシナリオまたはユースケースのパフォーマンスを向上させることができます。 次のオプションを使用できます。

![アダプティブメディアの画像処理リソースを設定することもできます。](./adaptive-media-configuration-reference/images/07.png)

| フィールド   | 説明                                                                             |
| ------- | ------------------------------------------------------------------------------ |
| 最大プロセス数 | アダプティブメディアの最大生成プロセス数 デフォルト値は `5`です。                                            |
| コアプロセス  | 適用されるメディアを生成するために常に利用可能なプロセスの数。 デフォルト値は `2`です。 この設定は、 **最大プロセス数** の設定を超えることはできません。 |

```{warning}
   最大プロセス数とコアプロセスの値を大きくすると、より多くの画像を一度に処理する際に大量のメモリを消費するため、メモリ不足エラーが発生する可能性があります。 アダプティブメディアが適用される画像を生成するために使用するソース画像が大きい場合にも、メモリ不足エラーが発生する可能性があります。 このような画像の最大サイズは、次に説明する*アダプティブメディア画像*設定の*最大画像サイズ*設定を介して制限できます。 パフォーマンステストを実行して、システムで使用可能なメモリの量に合わせてこれらの設定を最適化する必要があります。
```

<a name="additional-information" />

## 追加情報

* [画像解像度の追加](./adding-image-resolutions.md)
* [画像解像度の管理](./managing-image-resolutions.md)
